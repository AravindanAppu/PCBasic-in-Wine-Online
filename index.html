<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>GW-BASIC with DOSBox-X (mount ZIP)</title>
  <style>
    html, body, #dos { height: 100%; margin: 0; }
  </style>
</head>
<body>
  <div id="dos"></div>

  <!-- js-dos emulators -->
  <script src="https://v8.js-dos.com/latest/emulators/emulators.js"></script>
  <script type="module">
    emulators.pathPrefix = "https://v8.js-dos.com/latest/emulators/";
    
  (async () => {
    // Your ZIP containing gwbasic.exe + .BAS programs
    const zipUrl = "basic.zip";

    // 1. Resolve the raw ZIP (not a .jsdos bundle!)
    const data = await emulatorsUi.network.downloadBinary(zipUrl);

    // 2. Wrap it into a "fake" bundle (DOSBox-X worker needs a bundle object)
    const bundle = {
      type: "zip",
      data: data.buffer,  // ArrayBuffer
      name: "basic.zip",
    };

    // 3. Start DOSBox-X with the bundle
    const ci = await emulators.dosboxXWorker(bundle);

    // 4. Mount the ZIP as drive C: inside DOSBox-X
    await ci.send("MOUNT C .\r");
    await ci.send("C:\r");

    // 5. Launch GW-BASIC
    await ci.send("GWBASIC\r");

    // Now inside GW-BASIC you can do: RUN "PROGRAM.BAS"
  })();
  </script>
</body>
</html>


